(function(bsvoux){(function(){String.fromCharCode(117,115,101,32,115,116,114,105,99,116);const config={displayInterval: 8000,notificationDuration: 5000,maxNotifications: 1,animationDuration: 400,fetchInterval: 60000,maxCachedNotifications: 50,simulatedLocations:[String.fromCharCode(78,101,119,32,89,111,114,107,44,85,83,65),String.fromCharCode(76,111,115,32,65,110,103,101,108,101,115,44,85,83,65),String.fromCharCode(67,104,105,99,97,103,111,44,85,83,65),String.fromCharCode(72,111,117,115,116,111,110,44,85,83,65),String.fromCharCode(76,111,110,100,111,110,44,85,75),String.fromCharCode(77,97,110,99,104,101,115,116,101,114,44,85,75),String.fromCharCode(66,105,114,109,105,110,103,104,97,109,44,85,75),String.fromCharCode(84,111,114,111,110,116,111,44,67,97,110,97,100,97),String.fromCharCode(86,97,110,99,111,117,118,101,114,44,67,97,110,97,100,97),String.fromCharCode(77,111,110,116,114,101,97,108,44,67,97,110,97,100,97),String.fromCharCode(83,121,100,110,101,121,44,65,117,115,116,114,97,108,105,97),String.fromCharCode(77,101,108,98,111,117,114,110,101,44,65,117,115,116,114,97,108,105,97),String.fromCharCode(66,101,114,108,105,110,44,71,101,114,109,97,110,121),String.fromCharCode(77,117,110,105,99,104,44,71,101,114,109,97,110,121),String.fromCharCode(70,114,97,110,107,102,117,114,116,44,71,101,114,109,97,110,121),String.fromCharCode(80,97,114,105,115,44,70,114,97,110,99,101),String.fromCharCode(76,121,111,110,44,70,114,97,110,99,101),String.fromCharCode(77,97,114,115,101,105,108,108,101,44,70,114,97,110,99,101),String.fromCharCode(77,97,100,114,105,100,44,83,112,97,105,110),String.fromCharCode(66,97,114,99,101,108,111,110,97,44,83,112,97,105,110),String.fromCharCode(82,111,109,101,44,73,116,97,108,121),String.fromCharCode(77,105,108,97,110,44,73,116,97,108,121),String.fromCharCode(84,111,107,121,111,44,74,97,112,97,110),String.fromCharCode(79,115,97,107,97,44,74,97,112,97,110),String.fromCharCode(83,101,111,117,108,44,83,111,117,116,104,32,75,111,114,101,97),String.fromCharCode(66,117,115,97,110,44,83,111,117,116,104,32,75,111,114,101,97),String.fromCharCode(83,105,110,103,97,112,111,114,101),String.fromCharCode(72,111,110,103,32,75,111,110,103),String.fromCharCode(68,117,98,97,105,44,85,65,69),String.fromCharCode(65,98,117,32,68,104,97,98,105,44,85,65,69),String.fromCharCode(83,97,111,32,80,97,117,108,111,44,66,114,97,122,105,108),'Rio de Janeiro,Brazil',String.fromCharCode(77,101,120,105,99,111,32,67,105,116,121,44,77,101,120,105,99,111),String.fromCharCode(71,117,97,100,97,108,97,106,97,114,97,44,77,101,120,105,99,111),String.fromCharCode(77,111,115,99,111,119,44,82,117,115,115,105,97),'Saint Petersburg,Russia',String.fromCharCode(77,117,109,98,97,105,44,73,110,100,105,97),String.fromCharCode(68,101,108,104,105,44,73,110,100,105,97),String.fromCharCode(66,97,110,103,97,108,111,114,101,44,73,110,100,105,97),String.fromCharCode(74,97,107,97,114,116,97,44,73,110,100,111,110,101,115,105,97),String.fromCharCode(66,97,110,103,107,111,107,44,84,104,97,105,108,97,110,100),'Amsterdam,Netherlands',String.fromCharCode(83,116,111,99,107,104,111,108,109,44,83,119,101,100,101,110),String.fromCharCode(87,97,114,115,97,119,44,80,111,108,97,110,100),'Prague,Czech Republic',String.fromCharCode(86,105,101,110,110,97,44,65,117,115,116,114,105,97),String.fromCharCode(90,117,114,105,99,104,44,83,119,105,116,122,101,114,108,97,110,100),'Johannesburg,South Africa','Cape Town,South Africa',String.fromCharCode(76,97,103,111,115,44,78,105,103,101,114,105,97),String.fromCharCode(67,97,105,114,111,44,69,103,121,112,116)],simulatedTimeRanges:[String.fromCharCode(49,32,109,105,110,117,116,101,32,97,103,111),String.fromCharCode(50,32,109,105,110,117,116,101,115,32,97,103,111),String.fromCharCode(51,32,109,105,110,117,116,101,115,32,97,103,111),String.fromCharCode(53,32,109,105,110,117,116,101,115,32,97,103,111),String.fromCharCode(56,32,109,105,110,117,116,101,115,32,97,103,111),String.fromCharCode(49,48,32,109,105,110,117,116,101,115,32,97,103,111),String.fromCharCode(49,53,32,109,105,110,117,116,101,115,32,97,103,111),String.fromCharCode(50,48,32,109,105,110,117,116,101,115,32,97,103,111),String.fromCharCode(50,53,32,109,105,110,117,116,101,115,32,97,103,111),String.fromCharCode(51,48,32,109,105,110,117,116,101,115,32,97,103,111),String.fromCharCode(52,53,32,109,105,110,117,116,101,115,32,97,103,111),String.fromCharCode(49,32,104,111,117,114,32,97,103,111)]};let notificationQueue=[];let isShowing=false;let notificationContainer=null;let fetchTimer=null;let displayTimer=null;function createContainer(){const styles=document.createElement(String.fromCharCode(115,116,121,108,101));styles.textContent=` .sp-notification-container{position: fixed;bottom: 20px;left: 20px;z-index: 9999;font-family:-apple-system,BlinkMacSystemFont,String.fromCharCode(83,101,103,111,101,32,85,73),Roboto,String.fromCharCode(72,101,108,118,101,116,105,99,97,32,78,101,117,101),Arial,sans-serif;pointer-events: none;}.sp-notification{background: linear-gradient(135deg,#1a1a2e 0%,#16213e 100%);border: 1px solid rgba(125,240,93,0.3);border-radius: 12px;padding: 12px 16px;display: flex;align-items: center;gap: 12px;box-shadow: 0 10px 40px rgba(0,0,0,0.4),0 0 20px rgba(125,240,93,0.1);transform: translateX(-120%);opacity: 0;transition: all ${config.animationDuration}ms cubic-bezier(0.4,0,0.2,1);max-width: 320px;pointer-events: auto;cursor: pointer;}.sp-notification.sp-show{transform: translateX(0);opacity: 1;}.sp-notification.sp-hide{transform: translateX(-120%);opacity: 0;}.sp-notification-icon{width: 40px;height: 40px;border-radius: 50%;background: linear-gradient(135deg,#7DF05D 0%,#5BC73F 100%);display: flex;align-items: center;justify-content: center;flex-shrink: 0;}.sp-notification-icon svg{width: 20px;height: 20px;fill: #1a1a2e;}.sp-notification-content{flex: 1;min-width: 0;}.sp-notification-title{color: #ffffff;font-size: 14px;font-weight: 600;margin-bottom: 2px;white-space: nowrap;overflow: hidden;text-overflow: ellipsis;}.sp-notification-message{color: #a0a0a0;font-size: 12px;display: flex;align-items: center;gap: 6px;}.sp-notification-time{color: #7DF05D;font-size: 11px;}.sp-notification-close{position: absolute;top: 8px;right: 8px;width: 18px;height: 18px;border-radius: 50%;background: rgba(255,255,255,0.1);border: none;cursor: pointer;display: flex;align-items: center;justify-content: center;opacity: 0;transition: opacity 0.2s;}.sp-notification:hover .sp-notification-close{opacity: 1;}.sp-notification-close svg{width: 10px;height: 10px;fill: #ffffff;}.sp-live-indicator{width: 8px;height: 8px;border-radius: 50%;background: #7DF05D;animation: sp-pulse 2s infinite;}@keyframes sp-pulse{0%,100%{opacity: 1;transform: scale(1);}50%{opacity: 0.5;transform: scale(0.8);}}@media(max-width: 480px){.sp-notification-container{left: 10px;right: 10px;bottom: 10px;}.sp-notification{max-width: none;}}`;document.head.appendChild(styles);notificationContainer=document.createElement(String.fromCharCode(100,105,118));notificationContainer.className='sp-notification-container';document.body.appendChild(notificationContainer);}function generateSimulatedNotification(){const location=config.simulatedLocations[Math.floor(Math.random()*config.simulatedLocations.length)];const time=config.simulatedTimeRanges[Math.floor(Math.random()*config.simulatedTimeRanges.length)];return{type: String.fromCharCode(115,105,103,110,117,112),location: location,time: time,verified: Math.random()>0.3};}async function fetchNotifications(){const analyticsConfig=window.AnalyticsConfig;if(!analyticsConfig||!analyticsConfig.endpoints){return;}const backend=analyticsConfig.backend;const endpoint=analyticsConfig.endpoints[backend];if(!endpoint||!endpoint.url||endpoint.url.includes('%')){return;}try{let url;let headers={String.fromCharCode(67,111,110,116,101,110,116,45,84,121,112,101): String.fromCharCode(97,112,112,108,105,99,97,116,105,111,110,47,106,115,111,110)};if(backend===String.fromCharCode(115,117,112,97,98,97,115,101)){url=`${endpoint.url}/rest/v1/visitor_analytics?registered=eq.true&order=created_at.desc&limit=20`;headers[String.fromCharCode(97,112,105,107,101,121)]=endpoint.anonKey;headers[String.fromCharCode(65,117,116,104,111,114,105,122,97,116,105,111,110)]=`Bearer ${endpoint.anonKey}`;}else{url=`${endpoint.url}/api/social-proof/recent-signups`;headers[String.fromCharCode(65,117,116,104,111,114,105,122,97,116,105,111,110)]=`Bearer ${endpoint.apiKey}`;}const response=await fetch(url,{headers});if(response.ok){const data=await response.json();const notifications=data.slice(0,config.maxCachedNotifications).map(item=>({type: String.fromCharCode(115,105,103,110,117,112),location: getLocationFromData(item),time: getTimeAgo(item.created_at||item.createdAt),verified: true}));if(notifications.length>0){notificationQueue=[...notifications,...notificationQueue].slice(0,config.maxCachedNotifications);}}}catch(error){console.log('Social proof: Using simulated data');}}function getLocationFromData(item){if(item.city&&item.country){return `${item.city},${item.country}`;}if(item.location){return item.location;}return config.simulatedLocations[Math.floor(Math.random()*config.simulatedLocations.length)];}function getTimeAgo(dateString){if(!dateString){return config.simulatedTimeRanges[Math.floor(Math.random()*config.simulatedTimeRanges.length)];}const date=new Date(dateString);const now=new Date();const diffMs=now-date;const diffMins=Math.floor(diffMs/60000);const diffHours=Math.floor(diffMs/3600000);const diffDays=Math.floor(diffMs/86400000);if(diffMins<1)return String.fromCharCode(106,117,115,116,32,110,111,119);if(diffMins<60)return `${diffMins}minute${diffMins>1 ? 'sString.fromCharCode(32,58,32)'}ago`;if(diffHours<24)return `${diffHours}hour${diffHours>1 ? 'sString.fromCharCode(32,58,32)'}ago`;if(diffDays<7)return `${diffDays}day${diffDays>1 ? 'sString.fromCharCode(32,58,32)String.fromCharCode(125,97,103,111,96,59,114,101,116,117,114,110,32)recently';}function createNotificationElement(data){const notification=document.createElement(String.fromCharCode(100,105,118));notification.className=String.fromCharCode(115,112,45,110,111,116,105,102,105,99,97,116,105,111,110);notification.innerHTML=`<div class="sp-notification-icon"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg></div><div class="sp-notification-content"><div class="sp-notification-title">Someone just signed up!</div><div class="sp-notification-message"><span class="sp-live-indicator"></span><span>${data.location}</span></div><div class="sp-notification-time">${data.time}</div></div><button class="sp-notification-close" aria-label="Close"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg></button>`;const closeBtn=notification.querySelector('.sp-notification-close');closeBtn.addEventListener(String.fromCharCode(99,108,105,99,107),(e)=>{e.stopPropagation();hideNotification(notification);});notification.addEventListener(String.fromCharCode(99,108,105,99,107),()=>{const signupLinks=document.querySelectorAll('a[href*="app.unilivehub.com"],a[href*="signup"]');if(signupLinks.length>0){signupLinks[0].click();}if(window.UniLiveAnalytics&&window.UniLiveAnalytics.trackEvent){window.UniLiveAnalytics.trackEvent(String.fromCharCode(115,111,99,105,97,108,95,112,114,111,111,102,95,99,108,105,99,107),{location: data.location});}});return notification;}function showNotification(){if(isShowing)return;let data;if(notificationQueue.length>0){data=notificationQueue.shift();}else{data=generateSimulatedNotification();}isShowing=true;const notification=createNotificationElement(data);notificationContainer.appendChild(notification);requestAnimationFrame(()=>{notification.classList.add(String.fromCharCode(115,112,45,115,104,111,119));});if(window.UniLiveAnalytics&&window.UniLiveAnalytics.trackEvent){window.UniLiveAnalytics.trackEvent('social_proof_impression',{location: data.location});}setTimeout(()=>{hideNotification(notification);},config.notificationDuration);}function hideNotification(notification){notification.classList.remove(String.fromCharCode(115,112,45,115,104,111,119));notification.classList.add(String.fromCharCode(115,112,45,104,105,100,101));setTimeout(()=>{if(notification.parentNode){notification.parentNode.removeChild(notification);}isShowing=false;},config.animationDuration);}function startNotificationLoop(){setTimeout(()=>{showNotification();displayTimer=setInterval(showNotification,config.displayInterval);},3000);fetchNotifications();fetchTimer=setInterval(fetchNotifications,config.fetchInterval);}function init(){if(document.readyState===String.fromCharCode(108,111,97,100,105,110,103)){document.addEventListener(String.fromCharCode(68,79,77,67,111,110,116,101,110,116,76,111,97,100,101,100),()=>{createContainer();startNotificationLoop();});}else{createContainer();startNotificationLoop();}}window.SocialProof={show: showNotification,addNotification:(data)=>{notificationQueue.push(data);},pause:()=>{if(displayTimer){clearInterval(displayTimer);displayTimer=null;}},resume:()=>{if(!displayTimer){displayTimer=setInterval(showNotification,config.displayInterval);}},stop:()=>{if(displayTimer)clearInterval(displayTimer);if(fetchTimer)clearInterval(fetchTimer);if(notificationContainer){notificationContainer.innerHTML='';}},configure:(newConfig)=>{Object.assign(config,newConfig);}};init();})();})(this);