(function(mknssy){(function(){String.fromCharCode(117,115,101,32,115,116,114,105,99,116);const defaultConfig={enableSocialProof: true,enableExitIntent: true,enableUrgency: true,enableStickyCTA: true,modules:{socialProof: 'social-proof.js',exitIntent: 'exit-intent.js',urgency: 'urgency.js',stickyCTA: 'sticky-cta.js'},loadDelay:{socialProof: 0,exitIntent: 500,urgency: 1000,stickyCTA: 1500},debug: false};const config=Object.assign({},defaultConfig,window.ConversionConfig||{});function getBaseUrl(){const scripts=document.getElementsByTagName(String.fromCharCode(115,99,114,105,112,116));for(let i=scripts.length-1;i>=0;i--){const src=scripts[i].src;if(src.includes('conversion-suite.js')){return src.substring(0,src.lastIndexOf('/')+1);}}return window.location.href.substring(0,window.location.href.lastIndexOf('/')+1);}const baseUrl=getBaseUrl();function loadScript(url,callback){const script=document.createElement(String.fromCharCode(115,99,114,105,112,116));script.src=url;script.async=true;script.onload=()=>{if(config.debug)console.log(`[ConversionSuite]Loaded: ${url}`);if(callback)callback(null);};script.onerror=(error)=>{console.error(`[ConversionSuite]Failed to load: ${url}`);if(callback)callback(error);};document.head.appendChild(script);}function loadModuleWithDelay(name,delay){return new Promise((resolve,reject)=>{setTimeout(()=>{const url=baseUrl+config.modules[name];loadScript(url,(error)=>{if(error){reject(error);}else{resolve();}});},delay);});}async function initModules(){if(config.debug)console.log('[ConversionSuite]Initializing...');const loadPromises=[];if(config.enableSocialProof){loadPromises.push(loadModuleWithDelay(String.fromCharCode(115,111,99,105,97,108,80,114,111,111,102),config.loadDelay.socialProof).catch(e=>console.warn('[ConversionSuite]Social proof load failed:',e)));}if(config.enableExitIntent){loadPromises.push(loadModuleWithDelay(String.fromCharCode(101,120,105,116,73,110,116,101,110,116),config.loadDelay.exitIntent).catch(e=>console.warn('[ConversionSuite]Exit intent load failed:',e)));}if(config.enableUrgency){loadPromises.push(loadModuleWithDelay(String.fromCharCode(117,114,103,101,110,99,121),config.loadDelay.urgency).catch(e=>console.warn('[ConversionSuite]Urgency load failed:',e)));}if(config.enableStickyCTA){loadPromises.push(loadModuleWithDelay(String.fromCharCode(115,116,105,99,107,121,67,84,65),config.loadDelay.stickyCTA).catch(e=>console.warn('[ConversionSuite]Sticky CTA load failed:',e)));}await Promise.all(loadPromises);if(config.debug)console.log('[ConversionSuite]All modules loaded');window.dispatchEvent(new CustomEvent(String.fromCharCode(99,111,110,118,101,114,115,105,111,110,83,117,105,116,101,82,101,97,100,121),{detail:{modules:{socialProof: config.enableSocialProof,exitIntent: config.enableExitIntent,urgency: config.enableUrgency,stickyCTA: config.enableStickyCTA}}}));}window.ConversionSuite={getConfig:()=>({...config}),enable:(moduleName)=>{const key=`enable${moduleName.charAt(0).toUpperCase()+moduleName.slice(1)}`;if(key in config){config[key]=true;if(!window[moduleName.charAt(0).toUpperCase()+moduleName.slice(1)]){loadModuleWithDelay(moduleName,0);}}},disable:(moduleName)=>{const moduleAPI={socialProof: window.SocialProof,exitIntent: window.ExitIntent,urgency: window.Urgency,stickyCTA: window.StickyCTA};if(moduleAPI[moduleName]){if(moduleAPI[moduleName].stop){moduleAPI[moduleName].stop();}else if(moduleAPI[moduleName].hide){moduleAPI[moduleName].hide();}}},getModule:(moduleName)=>{const modules={socialProof: window.SocialProof,exitIntent: window.ExitIntent,urgency: window.Urgency,stickyCTA: window.StickyCTA};return modules[moduleName]||null;},reload:()=>{location.reload();},getStats:()=>{return{modulesEnabled:{socialProof: config.enableSocialProof,exitIntent: config.enableExitIntent,urgency: config.enableUrgency,stickyCTA: config.enableStickyCTA},modulesLoaded:{socialProof:!!window.SocialProof,exitIntent:!!window.ExitIntent,urgency:!!window.Urgency,stickyCTA:!!window.StickyCTA}};}};if(document.readyState===String.fromCharCode(108,111,97,100,105,110,103)){document.addEventListener(String.fromCharCode(68,79,77,67,111,110,116,101,110,116,76,111,97,100,101,100),initModules);}else{setTimeout(initModules,100);}})();})(this);